import"./chunks/@vueuse/motion.B4Wa5CfE.js";import{a as H}from"./chunks/vue-router.DhT2nIUW.js";import{a9 as N,Z as a,X as h,Y as r,bB as s,b_ as $,F as z,bd as B,U as l,bf as I,aO as P,b3 as t,_ as c,a5 as A,bt as Y,c6 as D,bb as j,aQ as G,a6 as C}from"./framework.BQMGd_d2.js";import{k as O,_ as Q,g as U,p as X}from"./app.VIYMXJJe.js";import{b as Z,_ as q,a as J}from"./YunPostMeta.vue_vue_type_style_index_0_lang.Cs4aZASK.js";import"./chunks/dayjs.DPscOGnl.js";import{u as K}from"./post.BVyfRrrk.js";import{u as W}from"./chunks/vue-i18n.B9OQiouB.js";const ee={class:"pagination"},te=N({__name:"YunPagination",props:{total:{},pageSize:{}},setup(y,{expose:f}){function m(v){const i=H(),o=l(()=>Number.parseInt(i.params.page||"1")),n=l(()=>Math.ceil(v.total/v.pageSize)),L=l(()=>o.value===1||o.value===n.value?3:2);function R(g){return g===1||g===n.value?!0:g>o.value-L.value&&g<o.value+L.value}function S(g){return g===1?"/page/1":`/page/${g}`}const M=l(()=>S(o.value-1)),V=l(()=>S(o.value+1)),E=l(()=>o.value>1),F=l(()=>o.value<n.value);return{curPage:o,totalPages:n,showPage:R,surLen:L,getTo:S,prevTo:M,nextTo:V,showPrev:E,showNext:F}}const d=y,{curPage:u,totalPages:b,showPage:_,getTo:w,surLen:e,prevTo:p,nextTo:T,showPrev:k,showNext:x}=m({total:d.total,pageSize:d.pageSize});return f({curPage:u}),(v,i)=>{const o=I("RouterLink");return t(),a("nav",ee,[s(k)?(t(),h(o,{key:0,class:"page-number",to:s(p),"aria-label":"prev"},{default:$(()=>i[0]||(i[0]=[c("div",{"i-ri-arrow-left-s-line":""},null,-1)])),_:1},8,["to"])):r("v-if",!0),(t(!0),a(z,null,B(s(b),n=>(t(),a(z,null,[s(_)(n)?(t(),h(o,{key:n,class:P(["page-number",s(u)===n&&"active"]),to:s(w)(n)},{default:$(()=>[A(Y(n),1)]),_:2},1032,["class","to"])):n===s(u)-s(e)?(t(),a("span",{key:`prev-space-${n}`,class:"space",disabled:""}," ... ")):n===s(u)+s(e)?(t(),a("span",{key:`next-space-${n}`,class:"space",disabled:""}," ... ")):r("v-if",!0)],64))),256)),s(x)?(t(),h(o,{key:1,class:"page-number",to:s(T),"aria-label":"next"},{default:$(()=>i[1]||(i[1]=[c("div",{"i-ri-arrow-right-s-line":""},null,-1)])),_:1},8,["to"])):r("v-if",!0)])}}}),se={},oe={w:"full",h:"10",class:"absolute bottom-0 bg-gradient-to-t from-$va-c-bg-light to-transparent z-1"};function ae(y,f){return t(),a("div",oe)}const ne=D(se,[["render",ae]]),re={class:"flex flex-1 of-hidden justify-start items-start post-card-info",w:"full"},le=["src","alt"],ie={class:"flex-center title text-2xl",text:"center",font:"serif black"},ce={flex:"~ grow col",w:"full",justify:"center",items:"center"},ue={key:0,py:"1"},pe=["innerHTML"],fe={key:2,m:"b-5"},me=["href"],de={w:"full",class:"yun-card-actions flex justify-between","min-h":"10",text:"sm"},_e={class:"post-categories inline-flex",flex:"wrap 1",items:"center"},ve=N({__name:"YunPostCard",props:{post:{}},setup(y){const f=y,{t:m}=W(),{icon:d,styles:u,color:b}=K(f.post.type),_=j("bg-gradient-to-r gradient-text from-$va-c-primary to-$va-c-primary-lighter"),w=l(()=>b?"":f.post.postTitleClass||_.value);return(e,p)=>{const T=Q,k=Z,x=ne,v=q,i=J,o=O;return t(),h(o,{class:P(["w-full",e.post.cover?"post-card-image":"post-card"]),m:"auto",overflow:"hidden",style:G(s(u))},{default:$(()=>[c("div",re,[e.post.cover?(t(),a("img",{key:0,src:e.post.cover,alt:s(m)("post.cover"),width:"320",height:"180",w:"40%",h:"54",class:"cover object-cover object-center md:shadow",loading:"lazy"},null,8,le)):r("v-if",!0),c("div",{class:P(["flex flex-col items-center relative",e.post.cover&&"h-54"]),w:"full"},[C(T,{class:P(["post-title-link cursor-pointer",w.value]),to:e.post.path||"",m:"t-3"},{default:$(()=>[c("div",ie,[e.post.type?(t(),a("div",{key:0,class:P(["inline-flex",s(d)]),m:"r-1"},null,2)):r("v-if",!0),c("span",null,Y(e.post.title),1)])]),_:1},8,["to","class"]),C(k,{frontmatter:e.post},null,8,["frontmatter"]),c("div",ce,[e.post.excerpt_type==="text"?(t(),a("div",ue)):r("v-if",!0),e.post.excerpt?(t(),a("div",{key:1,class:"markdown-body",op:"90",text:"left",w:"full",p:"x-6 lt-sm:4 y-2",innerHTML:e.post.excerpt},null,8,pe)):(t(),a("div",fe))]),r(' <div m="b-5" /> '),e.post.excerpt?(t(),h(x,{key:0})):r("v-if",!0),e.post.url?(t(),a("a",{key:1,href:e.post.url,class:"post-link-btn shadow hover:shadow-md z-2",rounded:"",target:"_blank",m:"b-4"},Y(s(m)("post.view_link")),9,me)):r("v-if",!0)],2)]),r(" always show "),c("div",de,[c("div",_e,[C(v,{m:"l-1",categories:e.post.categories},null,8,["categories"])]),e.post.tags?(t(),h(i,{key:0,m:"1",tags:e.post.tags},null,8,["tags"])):r("v-if",!0)])]),_:1},8,["class","style"])}}}),ge={flex:"~ col",class:"yun-post-list gap-4",w:"full",p:"x-4 lt-sm:0"},he={key:0,py2:"",op50:"","text-center":""},Ce=N({__name:"YunPostList",props:{type:{},posts:{}},setup(y){const f=y,m=j(),d=l(()=>{var p;return((p=m.value)==null?void 0:p.curPage)||1}),u=U(),b=X(),_=l(()=>b.value.pageSize),w=l(()=>(f.posts||u.postList).filter(p=>!p.hide)),e=l(()=>w.value.slice((d.value-1)*_.value,d.value*_.value));return(p,T)=>{const k=ve,x=te;return t(),a(z,null,[c("div",ge,[e.value.length?r("v-if",!0):(t(),a("div",he," 博主还什么都没写哦～ ")),(t(!0),a(z,null,B(e.value,(v,i)=>(t(),h(k,{key:i,post:v},null,8,["post"]))),128))]),C(x,{ref_key:"paginationRef",ref:m,class:"mt-5",total:w.value.length,"page-size":_.value},null,8,["total","page-size"])],64)}}});export{Ce as _};
